<header>
    <h1>Pets</h1>
  </header>
 
  <section class="filter-buttons my-3">
    <button class="btn btn-outline-success" (click)="startAddPet()">Add Pet</button>
  </section>
 
  <!-- Add New Pet Form -->
  <div *ngIf="showAddForm" class="add-form card p-3 my-4">
    <h2>Add New Pet</h2>
    <div class="mb-2">
        <label>Pet ID:</label>
        <input [(ngModel)]="newPet.petId" type="number" class="form-control" />
      </div>
    <div class="mb-2">
      <label>Name:</label>
      <input [(ngModel)]="newPet.name" class="form-control" />
    </div>
    <div class="mb-2">
      <label>Breed:</label>
      <input [(ngModel)]="newPet.breed" class="form-control" />
    </div>
    <div class="mb-2">
        <label>Category:</label>
        <select [(ngModel)]="newPet.category.categoryId" class="form-control">
          <option *ngFor="let category of categories" [value]="category.categoryId">
            {{ category.name }}
          </option>
        </select>
      </div>
    <div class="mb-2">
      <label>Age:</label>
      <input [(ngModel)]="newPet.age" type="number" class="form-control" />
    </div>
    <div class="mb-2">
      <label>Price:</label>
      <input [(ngModel)]="newPet.price" type="number" class="form-control" />
    </div>
    <div class="mb-2">
      <label>Description:</label>
      <textarea [(ngModel)]="newPet.description" class="form-control"></textarea>
    </div>
    <div class="mb-2">
      <label>Image URL:</label>
      <input [(ngModel)]="newPet.imageUrl" class="form-control" />
    </div>
    <div class="mt-3">
      <button class="btn btn-success me-2" (click)="addPet()">Save</button>
      <button class="btn btn-secondary" (click)="cancelAddPet()">Cancel</button>
    </div>
  </div>
 
  <!-- Search Bar -->
  <input
  type="text"
  class="form-control search-bar custom-search-bar"
  placeholder="Search"
  (input)="onSearch($event)"
  style="background-color: #20c220; color: white; font-size: 16px; width: 250px; height: 40px;"
/>
 
  <style>
    /* Placeholder text color */
    .custom-search-bar::placeholder {
      color: white;
    }
  </style>
 
  <!-- Update Pet Form -->
  <div *ngIf="selectedPet" class="update-form card p-3 my-4">
    <h2>Update Pet</h2>
    <div class="mb-2">
      <label>Name:</label>
      <input [(ngModel)]="selectedPet.name" class="form-control" />
    </div>
    <div class="mb-2">
      <label>Breed:</label>
      <input [(ngModel)]="selectedPet.breed" class="form-control" />
    </div>
     <div class="mb-2">
        <label>Category:</label>
        <select [(ngModel)]="selectedPet.category.categoryId" class="form-control">
          <option *ngFor="let category of categories" [value]="category.categoryId">
            {{ category.name }}
          </option>
        </select>
      </div>
    <div class="mb-2">
      <label>Age:</label>
      <input [(ngModel)]="selectedPet.age" type="number" class="form-control" />
    </div>
    <div class="mb-2">
      <label>Price:</label>
      <input [(ngModel)]="selectedPet.price" type="number" class="form-control" />
    </div>
    <div class="mb-2">
      <label>Description:</label>
      <textarea [(ngModel)]="selectedPet.description" class="form-control"></textarea>
    </div>
    <div class="mb-2">
      <label>Image URL:</label>
      <input [(ngModel)]="selectedPet.imageUrl" class="form-control" />
    </div>
    <div class="mt-3">
      <button class="btn btn-success me-2" (click)="updatePet()">Save</button>
      <button class="btn btn-secondary" (click)="cancelUpdate()">Cancel</button>
    </div>
  </div>
 
 
  <!-- Pet Cards -->
  <div class="container">
    <h2>Pets</h2>
    <div *ngIf="pets.length > 0; else noData">
      <div class="row row-cols-1 row-cols-md-2 g-4">
        <div class="col" *ngFor="let pet of pets">
          <div class="card h-100 d-flex flex-row align-items-stretch">
            <!-- Image -->
            <img
              src="{{ pet.imageUrl }}"
              class="img-fluid"
              alt="{{ pet.name }}"
              style="width: 200px; object-fit: cover;"
            />
 
            <!-- Details -->
            <div class="card-body" style="flex: 1;">
              <h5 class="card-title">{{ pet.name }}</h5>
              <p class="card-text"><strong>Breed:</strong> {{ pet.breed }}</p>
              <p class="card-text"><strong>Description:</strong> {{ pet.description }}</p>
              <p class="card-text"><strong>Category</strong>: {{ pet.category.name}}</p>
              <div class="d-flex justify-content-between align-items-center">
                <p><strong>Age:</strong> {{ pet.age }}</p>
                <p><strong>Price:</strong> â‚¹{{ pet.price }}</p>
              </div>
              <div class="d-flex justify-content-between align-items-center">
                <button type="button" class="btn btn-primary">Buy Now</button>
                <button (click)="startUpdate(pet)" class="btn btn-secondary">Update</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
 
  <!-- No Pets Found -->
  <ng-template #noData>
    <p>No pets found.</p>
  </ng-template>
 
 
 